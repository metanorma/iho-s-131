
[[sec_12]]
== Limitation by Vessels Characteristics and Cargo

[[sec_12.1]]
=== Introduction

Certain regulations, recommendations, etc., apply only to vessels
of specified dimensions, types, or carrying specified cargo, etc.
Similarly, certain features have specific significance for vessels
of specified dimensions (e.g., different speed limits for vessels
carrying specified cargoes or exceeding specified dimensions, or entry
prohibitions for certain vessel types).

[[sec_12.2]]
=== Defining subsets of vessels by dimensions, cargo, and other characteristics

This is modelled by first defining the relevant subset of vessels
according to the dimension, type, cargo, etc., and then associating
that subset to the appropriate feature or information type. The subset
of vessels is modelled using the *Applicability* class, which contains
attributes for the most common vessel characteristics used in nautical
publications. These include measurements (length, beam, draught),
type of cargo, displacement, etc. Constraints which cannot be modelled
using the attributes of *Applicability* can be described in plain
text in its _information_ attribute.

[[fig_12.1]]
.Characteristics and dimensions defining sets of vessels
image::figure-19.png[]

Conditions relating to vessel dimensions are modelled by the complex
attribute vesselsMeasurements, which has sub-attributes for naming
the dimension and indicating the limit (whether the condition applies
to a vessel which exceeds or falls below the limit).

[[fig_12.2]]
.Attributes for specifying vessel dimensions
image::figure-20.png[]

For example, the combinations in <<table_12.1>> below describe the
conditions "length overall > 50 m" (Condition 1); "length 
verall < 90 m" (Condition 2); and "breadth > 20 m" (Condition 3).

[[table_12.1]]
.Examples of conditions based on vessel dimensions
[cols="a,a,a,a"]
|===
h| Attribute h| Condition 1 h| Condition 2 h| Condition 3
| *vesselsCharacteristics* | length overall | length overall | breadth
| *comparisonOperator* | greater than | less than | greater than
| *vesselsCharacteristicsValue* | 50 | 90 | 20
| *vesselsCharacteristicsUnit* | metre | metre | metre

|===

The _logicalConnectives_ attribute of *Applicability* is used to indicate
how multiple conditions are combined. Combinations may be cumulative
(conjunctive, AND) or alternatives (disjunctive, OR).

[example]
Encoding _logicalConnectives_=AND combined with Conditions 1 and 2
above describes a vessel of length between 50 and 90 metres.

[example]
Encoding _logicalConnectives_=OR combined with Conditions 1 and 3
describes a vessel of length greater than 50 metres or beam greater
than 20 metres.

This modelling cannot represent subsets defined by both AND and OR
combinations, but it is always possible to convert such complex conditions
into multiple combinations each using only AND ('conjunctive normal
form') or OR ('disjunctive normal form'), and model the subset using
more than one *Applicability* object.

[[sec_12.3]]
=== Characterizing the relationship between the vessel set and the feature or regulation

The relationship between a set of vessels and a *geographic feature*
may be one of several different mandate levels ranging from prohibition
on use of entry into a geographic location to mandatory use of a feature
(such as vessels exceeding certain dimensions being required to board
pilots at an outer boarding place).

The relationship between a set of vessels and a *regulation information type*
(or recommendation, restriction, or special note) may be one of _inclusion_
or _specific exclusion_ - either the regulation (recommendation, etc.)
_specifically applies_ to the specified set of vessels, or the specified
set of vessels is _explicitly excluded_ from the regulation. (If a
regulation does not apply to a set of vessels but there is no explicit
exemption stated in the source material, there is no relationship
that needs to be encoded.)

The association classes *PermissionType* and *InclusionType* (<<fig_12.3;and!fig_12.4>>) characterize these relationships using values of their attributes _categoryOfRelationship_ and _membership_ respectively.

[[fig_12.3]]
.Permission relationship
image::figure-21.png[]

[[fig_12.4]]
.Inclusion/exclusion relationship
image::figure-22.png[]

[example]
A specified set of vessels is COVERED by a regulation and another
set of vessels is EXEMPT from the regulation - described by the _membership_
attribute values "included" and "excluded" respectively.

[example]
Vessels with specified cargo and dimensions MUST use a specified berth,
vessels of smaller dimensions are RECOMMENDED to use the berth, and
naval transports are EXEMPT from using the berth - described by the
_categoryOfRelationship_ attribute values "required", "recommended"
and "recommended" respectively.

[[sec_12.4]]
=== Production hints and recommended practices (informative)

[[sec_12.4.1]]
==== Capturing the application of a regulation, recommendation, etc. to specified kinds of vessels

Encoders may find it easiest to capture the application of a regulation
(recommendation , etc.) to a class or set of vessels in three phases:

. Encode the operative part of the regulation (the part that describes
what the vessels subject to the regulation must or must not do), creating
an instance of *Regulation* (or *Recommendation*, etc., as appropriate).
Descriptions of what kinds of vessels are subject to the regulation
must be excluded from the content of the *Regulation* instance.
. Create an *Applicability* information type and encode the description
of what kinds of vessels are subject to (or exempted from) the regulation.
. Link the two using an *InclusionType* with _membership=included_
if the vessels described by *Applicability* are subject to the regulation,
or _membership=excluded_ if they are explicitly exempted from the
regulation.

It is not necessary to create separate instances of the regulation
for inclusion and exclusion.

[[sec_12.4.2]]
==== Capturing the permissibility or otherwise of a geographic feature for specified kinds of vessels

Encoders may find it easiest to capture the permissibility of a feature
to specified kinds of vessels in three phases.

. Create the geographic feature if it does not already exist.
. Create an *Applicability* information type and encode the description
of what kinds of vessels are required to use the geographic feature.
. Link the two using a *PemissionType* with _categoryOfRelationship = required_.

For the other relationships (prohibited, not recommended, etc.) steps
2 and 3 should be modified accordingly (i.e., if use by certain kinds
of vessels is "not recommended" encode the description of that kind
of vessels in an Applicability and create a linking *PermissionType*
with _categoryOfRelationship = not recommended_).

It is not necessary to create a separate instance of the geographic
feature for each type of relationship.

[[sec_12.4.3]]
==== Constructing the Applicability information type

Where the source material describes complex conditions, encoders may
find it useful to write out the conditions in structured language
with grouping parentheses, for example, as _"(condition A) AND
(condition B) AND (condition C)"_, or draw diagrams, before encoding
*Applicability* and its associations.

Note that the model limitation on mixing logical connectives means
some forms of conditions which use "nesting" cannot be encoded in
a single *Applicability* instance and multiple instances must be created.

[example]
The complex condition "(condition A) AND ((condition B) OR (condition C))"
must be encoded as two *Applicability* instances, one with "(condition A)
AND (condition B)" and the other with "(condition A) AND (condition C)".

[[table_12.2]]
.Example of conversion of complex condition to multiple simple conditions
[cols="a,a"]
|===
h| Complex condition h| Encode as
| (condition A) 

AND

((condition B) OR (condition C))
| Applicability 1: (condition A) AND (condition B)

Applicability 2: (condition A) AND (condition C)

|===

Data producers may contact NIPWG with questions about encoding complex
conditions.

As a last resort, conditions may be written as phrases in natural
language and encoded in the _information_ attribute. It is acceptable
for an *Applicability* to have only the _information_ attribute populated.

[[sec_12.5]]
=== Applicability

[cols="a,a,a,a,a,a,a,a",options="unnumbered"]
|===
8+| [underline]#IHO Definition:# Describes the relationship between
vessel characteristics and: (i) the applicability of an associated
information object or feature to the vessel; or, (ii) the use of a
facility, place, or service by the vessel; or, (iii) passage of the
vessel through an area.
8+| *[underline]#S-10x Information Type:# Applicability*
8+| *[underline]#Super Type:# InformationType (<<sec_9.2>>)*
8+| *[underline]#Primitives:# None*

2+| _Real World_ 3+| _Paper Chart Symbol_ 3+| _ECDIS Symbol_

2+h| S-10x Attribute h| S-57 Acronym 3+h| Allowable Encoding Value h| Type h| Multiplicity

2+| In Ballast | 3+| | BO | 0, 1
2+| Category of Cargo | 3+|
2: Container +
5: Passenger +
6: Livestock +
7: Dangerous or Hazardous +
8: Heavy Lift +
10: Dry Bulk Cargo +
11: Liquid Bulk Cargo +
12: Reefer Container Cargo +
13: Ro-Ro Cargo +
14: Project Cargo +
15: Break Bulk Cargo
| EN | 0, ++*++

2+| Category Of Dangerous Or Hazardous Cargo | 3+|
1: IMDG Code Class 1 Div. 1.1 +
2: IMDG Code Class 1 Div. 1.2 +
3: IMDG Code Class 1 Div. 1.3 +
4: IMDG Code Class 1 Div. 1.4 +
5: IMDG Code Class 1 Div. 1.5 +
6: IMDG Code Class 1 Div. 1.6 +
7: IMDG Code Class 2 Div. 2.1 +
8: IMDG Code Class 2 Div. 2.2 +
9: IMDG Code Class 2 Div. 2.3 +
10: IMDG Code Class 3 +
11: IMDG Code Class 4 Div. 4.1 +
12: IMDG Code Class 4 Div. 4.2 +
13: IMDG Code Class 4 Div. 4.3 +
14: IMDG Code Class 5 Div. 5.1 +
15: IMDG Code Class 5 Div. 5.2 +
16: IMDG Code Class 6 Div. 6.1 +
17: IMDG Code Class 6 Div. 6.2 +
18: IMDG Code Class 7 +
19: IMDG Code Class 8 +
20: IMDG Code Class 9 +
21: Harmful Substances in Packaged Form
| EN | 0, ++*++

2+| Category of Vessel | 3+|
1: General Cargo Vessel +
2: Container Carrier +
3: Tanker +
4: Bulk Carrier +
5: Passenger Vessel +
6: Roll-On Roll-Off +
7: Refrigerated Cargo Vessel +
8: Fishing Vessel +
9: Service +
10: Warship +
11: Towed or Pushed Composite Unit +
12: Tug and Tow +
13: Light Recreational +
14: Semi-Submersible Offshore Installation +
15: Jack-Up Exploration or Project Installation +
16: Livestock Carrier +
17: Sport Fishing
| CL | 0, 1

2+| Category of Vessel Registry | 3+|
1: Domestic +
2: Foreign
| EN | 0, 1

2+| Logical Connectives | 3+|
1: Logical Conjunction +
2: Logical Disjunction
| EN | 0, 1

2+| Thickness of Ice Capability | 3+| | IN | 0, 1
2+| Vessel Performance | 3+| | TE | 0, 1
2+| Information | 3+| | C | 0, ++*++
2+| File Locator | 3+| | (S) TE | 0, 1
2+| File Reference | (TXTDSC) 3+| | (S) TE | 0, 1
2+| Headline | 3+| | (S) TE | 0, ++*++ (ordered)
2+| Language | 3+| | (S) TE | 0, 1

2+| Text | (INFORM)

(NINFOM)
3+| | (S) TE | 0, 1

2+| Vessels Measurements | 3+| | C | 0, ++*++

2+| Comparison Operator | 3+|
1: Greater Than +
2: Greater Than or Equal To +
3: Less Than +
4: Less Than or Equal To +
5: Equal To +
6: Not Equal To
| (S) EN | 1, 1

2+| Vessels Characteristics | 3+|
1: Length Overall +
2: Length at Waterline +
3: Breadth +
4: Draught +
6: Displacement Tonnage +
7: Displacement Tonnage, Light +
8: Displacement Tonnage, Loaded +
9: Deadweight Tonnage +
10: Gross Tonnage +
11: Net Tonnage +
12: Panama Canal/Universal Measurement System Net Tonnage +
13: Suez Canal Net Tonnage
| (S) EN | 1, 1

2+| Vessels Characteristics Value | 3+| | (S) RE | 1, 1

2+| Vessels Characteristics Unit | 3+|
3: Metric Ton +
4: Ton +
5: Short Ton +
6: Gross Ton +
7: Net Ton +
9: Suez Canal Net Tonnage
| (S) EN | 1, 1

|===

[underline]#INT 1 Reference: pass-format:metanorma[--]#

[[sec_12.5.1]]
==== General

The *Applicability* information type is intended for defining sets
of vessels according to their dimensions, capabilities, and cargo.
Its attributes are intended for defining different limitation conditions,
as described by their definitions in <<sec_17;and!sec_18>>.

Multiple instances of *Applicability* associated to the same feature
or regulation are treated as "inclusive OR", that is, each *Applicability*
defines an independent set of vessels to which the regulation, permission
or requirement applies (or which is specifically exempted, depending
on the attribute encoded in the association class).

<<sec_12.1>> contains a comprehensive discussion of the use of *Applicability*
to describe subsets of vessels according to dimensions, types, cargo,
and other characteristics. The remarks below provide additional guidance.

[underline]#Remarks:#

* Multiple values of _Category of Cargo_ and of
_Category of Dangerous Or Hazardous Cargo_ should be treated as
"inclusive OR" (i.e., if _Category of Cargo_=1 and 2, then it means
vessels with either bulk or container cargo or both).

* Limitations which cannot be expressed using more specific attributes
should be encoded in text form in the _information_ attribute.

* It is acceptable for an *Applicability* to have only the _information_
attribute populated.

* Vessel types which do not conform to any of the listed _categoryOfVessel_
values should be encoded as "other: <text>" where <text> is a producer-supplied
type name.

* The attribute _logicalConnectives_ has multiplicity lower
bound 0 for the case where there is only a single limiting condition
(for example, if the only condition is "length overall > 100m") and
must be omitted in such a situation. If there is more than one condition,
_logicalConnectives_ must be encoded. If _logicalConnectives_ is omitted
and there is more than one condition, the default value assumed is
logical conjunction.

* Mutually inconsistent measurements
(e.g., draught > 10m and draught < 5m) are an error.

* The inherited attributes _featureName_ and _graphic_ may be used
to provide supplementary information in the form of a title for the
defined set of vessels and sketch or other graphic pertaining to the
set, but there being no widely acknowledged use cases for them, their
use in *Applicability* is discouraged.

* Encoding the inherited _fixedDateRange_ and _periodicDateRange_
attributes for *Applicability* is discouraged. The _fixedDateRange_
and _periodicDateRange_ attributes may theoretically be used to qualify
the set defined by the *Applicability* instance, but must not be used
to define the commencement, termination, season, etc., of the regulation
or feature to which *Applicability* is associated (fixed and periodic
date ranges should be encoded in the regulation or feature instance
instead).

[underline]#Distinction:#

[cols="8",options="unnumbered"]
|===

8+h| [underline]#Feature/Information associations#

.2+h| Type .2+h| Association Name 6+h| Association Ends
h| Class h| Role h| Mult h| Class h| Role h| Mult
| association | Inclusion Type | *Applicability* | isApplicableTo | 0, ++*++ | *AbstractRxN* | theApplicableRxN | 0, ++*++

|===
